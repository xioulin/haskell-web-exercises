<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Weather Mapp</title>
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css' rel='stylesheet' />

    <link rel="stylesheet" href="../css/weatherMap.css">
    <style >
        #map {
            /* the width and height may be set to any size */
            width: 100%;
            height: 700px;
        }
    </style>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a>Weather Map</a>
</nav>

<div class="w3-card">
<header class="w3-card-red">
    <table>
        <tr id="date"></tr>
        <tr id="temp"></tr>
        <tr id="cloud-coverage"></tr>
        <tr id="precip"></tr>
        <tr id="uv-index"></tr>
    </table>
</header>
</div>
<div class="w3-card">
    <header class="w3-card-blue">
        <table>
            <tr id="date1"></tr>
            <tr id="temp1"></tr>
            <tr id="cloud-coverage1"></tr>
            <tr id="precip1"></tr>
            <tr id="uv-index1" ></tr>
        </table>
    </header>
    <header class="w3-card-blue"></header>
    <!--  <header class="w3-card-blue" ></header>-->
    <!--  <header class="w3-card-blue" ></header>-->
    <!--  <header class="w3-card-blue" ></header>-->

</div>

<div id='map'></div>

<script src="../.idea/keys.js"></script>
<script src="https://code.jquery.com/jquery-2.2.4.min.js"
        integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

<script>
    // $.ajax({
    //     url: "http://api.openweathermap.org/data/2.5/weather",
    //     type: "GET",
    //     data: {
    //         APPID: MAC_WEATHERAPI,
    //         q: "San Antonio, US"
    //     }
    // }).done(function (data) {
    //     console.log(data);
    //     var newDate = data.list[0].dt_txt;
    //     var newDate1 = new Date(newDate.replace(/-/g, "/"));
    //     $('#date').text(newDate1.toDateString());
    //     var temp = data.list[0].main.temp.toPrecision(3);
    //     $('#temp').text("Temp: " + temp + '°C');
    //     var cloudy = data.list[0].weather[0].description
    //     $('#cloud-coverage').text("Rain: " + cloudy);
    // })

    mapboxgl.accessToken = MAPBOX_APIKEY;
    const map = new mapboxgl.Map({
        container: 'map', // container ID
        style: 'mapbox://styles/mapbox/streets-v11', // style URL
        center: [-74.5, 40], // starting position [lng, lat]
        zoom: 9 // starting zoom
    });
    var marker = new mapboxgl.Marker()
        .setLngLat([21.212, 52.147])
        .addTo(map);
    var marker2 = new mapboxgl.Marker()
        .setLngLat([21.21, 52.15])
        .addTo(map);


    var popup = new mapboxgl.Popup()
        .setLngLat([21.212, 52.147])
        .setHTML("<p>Michalin</p><a href='https://www.jozefow.pl/pl'>www.michalin.pl</a> ")
        .addTo(map)
    // $.get("http://api.openweathermap.org/data/2.5/forecast", {
    //   APPID: MAPBOX_APIKEY,
    //   q: "Warsaw, PL",
    //   units:  'metric'
    // }).done(function(data) {
    //   console.log('current weather', data);
    //   // $('#textbox').text(data.current);
    //   var newDate = data.list[0].dt_txt;
    //   var newDate1= new Date(newDate.replace(/-/g,"/"));
    //   $('#date').text(newDate1.toDateString());
    //   var temp = data.list[0].main.temp.toPrecision(3);
    //   $('#temp').text("Temp: "+ temp+'°C');
    //   var cloudy = data.list[0].weather[0].description
    //   $('#cloud-coverage').text("Rain: "+cloudy);
    //   console.log(data.list[31].rain);
    // // $('#temp').text('The Temperature is: '+data.);
    // // $('.w3-card-blue').text("The country is "+ data.city.country)
    // // $('.w3-card-blue').text("The country is "+ data.city.country)
    // // $('.w3-card-blue').text("The country is "+ data.city.country)
    // });


</script>
</body>
</html>